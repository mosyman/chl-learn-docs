
这份文档聚焦Linux系统基础命令，核心讲解**文件压缩与解压**和**磁盘管理**两大类高频运维命令，包含每个命令的功能、常用选项、实操案例，是Linux入门的核心基础，以下为你逐模块详细拆解，同时修正文档中的笔误（如命令、符号错误），让实操性更强：

# 一、文件压缩与解压命令
Linux中压缩解压是日常运维必备操作，常用命令为`tar`、`zip`、`unzip`，其中`tar`是最核心的归档/压缩命令，支持多种压缩格式，`zip/unzip`则适配通用的.zip格式。
## 3.3.1 tar命令
**核心功能**：对文件/目录创建归档（打包），搭配选项可实现**打包+压缩**/**解压缩**，是Linux最常用的压缩解压命令，语法：`tar [选项] 文件名或目录名`
### 常用选项（表3-17修正版，修正笔误）
| 选项 | 说明 | 关键使用场景 |
| ---- | ---- | ---- |
| -c | 创建归档文件 | 仅打包，不压缩时使用 |
| -C | 解压缩时指定目标目录 | 解压到非当前目录，如`tar -zxf xxx.tar.gz -C /opt` |
| -f<文件名> | 指定归档/压缩文件的名称 | **必须放在所有选项最后**，如`tar -zcf test.tar.gz test.txt` |
| -v | 显示命令执行的详细过程 | 查看打包/解压的文件列表，如`tar -zcvf test.tar.gz /home` |
| -t | 列出归档/压缩文件里的内容 | 不解压查看包内文件，如`tar -ztf test.tar.gz` |
| -z | 通过gzip指令处理归档文件 | 打包并以gzip压缩（生成.tar.gz格式，最常用） |
| -x | 从归档文件中将文件解压出来 | 解压缩核心选项，搭配-z使用解.tar.gz |
| -p | 保持原来文件的属性信息 | 打包/解压时保留文件的权限、所有者、修改时间等 |
| --exclude=<文件名> | 打包时排除指定文件/目录 | 如`tar -zcf test.tar.gz /home --exclude=/home/tmp` |
> 文档中`-X`为笔误，正确解压缩选项为`-x`。

### 实操案例（修正命令笔误，补充说明）
1. **仅打包（不压缩）**：将test.txt打包为test.tar
    ```bash
    [root@test~]# tar -cf test.tar test.txt  # -c创建+ -f指定包名
    [root@test~]# ll test.tar  # 文档中11为ls -l的笔误，查看包文件
    -rw-r--r-- 1 root root 10240 May 18 09:22 test.tar
    ```
2. **打包并gzip压缩**：生成.tar.gz（压缩比高，最常用）
    ```bash
    [root@test~]# tar -zcf test.tar.gz test.txt  # -z(gzip) + -c(创建) + -f(指定名)
    [root@test~]# ll test.tar.gz
    -rw-r--r-- 1 root root 112 May 18 09:24 test.tar.gz  # 体积大幅减小
    ```
3. **不解压查看压缩包内容**：搭配-z（gzip）+ -t（列表）+ -f（指定包）
    ```bash
    [root@test~]# tar -ztf test.tar.gz
    test.txt  # 直接输出包内的文件
    ```
### 拓展常用组合
- 解压.tar.gz到指定目录：`tar -zxf test.tar.gz -C /opt`
- 打包并显示详细过程：`tar -zcvf test.tar.gz /home`
- 解压并保留文件属性：`tar -zxfp test.tar.gz`

## 3.3.2 zip命令
**核心功能**：创建.zip格式的压缩包（通用格式，跨Windows/Linux），也可对压缩包做简单编辑（如删除文件），语法：`zip [选项] 压缩包名 待压缩文件/目录`
### 常用选项（表3-18）
| 选项 | 说明 |
| ---- | ---- |
| -b<目录名> | 指定压缩包的存放目录 |
| -d | 从已生成的zip压缩包中删除指定文件 |
| -0 | 将压缩包的修改时间设为包内最新文件的时间 |
| -x<文件名> | 压缩时排除指定文件/目录 |
| -t<日期时间> | 手动设置压缩包的创建日期 |

### 实操案例
将**当前目录下所有文件/目录**打包为test.zip，`./`表示当前目录，`*`为通配符（匹配所有）：
```bash
[root@test~]# zip test.zip ./*
# 命令执行后会输出每个文件的压缩状态：stored(未压缩) / deflated(已压缩)+压缩比例
adding: abc.txt (stored 0%) 
adding: anaconda-ks.cfg (deflated 45%)
adding: test.tar (deflated 99%)
[root@test~]# ll test.zip  # 查看生成的压缩包
-rw-r--r-- 1 root root 3133 May 18 09:49 test.zip
```
> 文档中“0号/08/77号”为百分号`%`的笔误，“adding;”为`adding:`的笔误。

## 3.3.3 unzip命令
**核心功能**：专门解压缩`zip`命令生成的.zip格式压缩包，语法：`unzip [选项] 压缩包名`
### 常用选项（表3-19）
| 选项 | 说明 | 高频使用 |
| ---- | ---- | ---- |
| -l | 仅显示压缩包内的文件列表（不解压） | ✅ |
| -t | 检查压缩包的完整性，判断是否损坏 | ✅ |
| -o | 解压时**强制覆盖**原有文件（无提示） | ✅ |
| -n | 解压时**不覆盖**原有文件（无提示） | ✅ |
| -d<目录> | 将压缩包解压到指定目录 | ✅ |

### 实操案例（修正命令格式，补充说明）
1. **查看包内文件+检查压缩包完整性**：`-l`和`-t`可组合使用
    ```bash
    [root@linux1 test]# unzip -lt test.zip  # 文档中-1t为-lt的笔误，1是l的数字误写
    Archive:  test.zip
      Length      Date    Time    Name
    ---------  ---------- -----   ----
           31  01-08 10:41  test1.txt
           12  01-08 10:37  test.txt
    ---------                     -------
           43                     2 files
    testing: test1.txt   OK
    testing: test.txt    OK
    No errors detected in compressed data of test.zip.  # 无错误，压缩包完整
    ```
2. **解压到指定目录**：搭配`-d`选项，目标目录需提前存在
    ```bash
    [root@linux1 test]# unzip test.zip -d /opt/  # 解压到/opt目录
    Archive:  test.zip
      extracting: /opt/test1.txt
      extracting: /opt/test.txt
    [root@linux1 test]# ll /opt/  # 查看解压结果
    total 8
    -rw-r--r-- 1 root root 31 1月 8 10:41 test1.txt
    -rw-r--r-- 1 root root 12 1月 8 10:37 test.txt
    ```

# 二、磁盘管理命令
磁盘管理是Linux运维的核心工作，包含**磁盘空间查看**、**文件/目录占用空间统计**、**磁盘分区**、**文件系统挂载**四大核心操作，对应命令`df`、`du`、`fdisk`、`mount`。
## 3.4.1 df命令
**核心功能**：查看**系统磁盘分区**的整体空间使用情况（总容量、已用、可用、挂载点），默认单位为**KB**，语法：`df [选项]`
### 常用选项（表3-20，最常用`-h/-T/-i`）
| 选项 | 说明 | 核心价值 |
| ---- | ---- | ---- |
| -h | 以**人类可读的格式**输出（自动适配GB/MB/KB） | ✅ 日常查看首选 |
| -k | 以KB为单位输出（默认） | 精准统计 |
| -m | 以MB为单位输出 | 精准统计 |
| -i | 显示磁盘分区的**inode信息**（总inode、已用、可用） | 排查inode占满导致的磁盘无法写入问题 |
| -T | 显示磁盘分区的**文件系统类型**（如xfs/ext4） | 运维排障必备 |

### 实操案例（修正输出格式，梳理关键信息）
1. **以可读格式查看磁盘使用（MB/GB）**：`-mh`组合（-m以MB为基础，-h优化可读性）
    ```bash
    [root@test~]# df -mh
    Filesystem               Size  Used Avail Use% Mounted on
    /dev/mapper/centos-root   17G  1.1G   16G   7% /  # 根分区，使用率7%
    devtmpfs                 478M     0  478M   0% /dev  # 系统设备文件
    tmpfs                    489M     0  489M   0% /dev/shm  # 临时内存文件系统
    tmpfs                    489M  6.8M  482M   2% /run  # 运行时临时文件
    /dev/sda1               1014M  125M  890M  13% /boot  # 启动分区
    tmpfs                     98M     0   98M   0% /run/user/0  # root用户临时目录
    ```
   > 文档中输出格式混乱，已梳理为标准`df -mh`输出，`Use%`为使用率，`Mounted on`为挂载点（分区对应的系统目录）。

2. **查看文件系统类型+inode信息**：`-iT`组合，排查inode占满问题
    ```bash
    [root@test~]# df -iT
    Filesystem               Type Inodes  IUsed   IFree IUse% Mounted on
    /dev/mapper/centos-root  xfs    8910848  31150 8879698    1% /
    devtmpfs                 devtmpfs  122194    389  121805    1% /dev
    /dev/sda1                xfs     124962    497  124465    1% /boot
    ```
   > inode是Linux中文件的唯一标识，**即使磁盘有剩余空间，inode占满也无法创建新文件**，此命令为排障关键。

## 3.4.2 du命令
**核心功能**：查看**单个文件/目录**的磁盘空间占用情况（与`df`的区别：`df`看**分区整体**，`du`看**具体文件/目录**），语法：`du [选项] 文件名或目录名`
### 常用选项（表3-21）
| 选项 | 说明 | 高频使用 |
| ---- | ---- | ---- |
| -h | 以可读格式输出（GB/MB/KB） | ✅ |
| -b | 以字节为单位输出 | 精准统计 |
| -m | 以MB为单位输出 | 精准统计 |
| -s | 显示**总大小**，不显示子目录/文件的详细大小 | ✅ 文档中`-S`为笔误，正确为`-s` |
| --exclude=<文件名/目录名> | 统计时忽略指定文件/目录 | ✅ |

### 实操案例
统计**系统根目录/**的总占用空间，**忽略/usr目录**（/usr是系统程序目录，体积大，无需统计时可排除）：
```bash
[root@test~]# du -sh / --exclude=/usr  # -s(总大小)+-h(可读)+--exclude(排除)
256M    /  # 根目录除/usr外总占用256MB
```
### 拓展常用命令
- 查看当前目录下所有子目录的大小：`du -h --max-depth=1 ./`（`--max-depth=1`仅显示一级子目录）
- 查看单个文件大小：`du -h test.tar.gz`

## 3.4.3 fdisk命令
**核心功能**：对Linux磁盘进行**分区创建、删除、查看**，是磁盘分区的基础命令，仅支持**MBR分区格式**（最大支持2TB磁盘），语法：`fdisk [选项] [磁盘名称]`
### 核心选项
`-l`：**列出系统所有磁盘的分区表信息**，是最常用选项，无参数时进入磁盘分区的交互菜单。
### 交互菜单操作（fdisk核心，输入命令后按回车执行）
文档中菜单为口符号，替换为标准格式，**操作后需执行`w`保存才会生效**，`q`退出不保存，避免误操作：
| 交互命令 | 说明 | 操作场景 |
| -------- | ---- | -------- |
| m        | 显示菜单和帮助信息 | 忘记命令时使用 |
| d        | 删除指定的分区 | 清理无用分区 |
| n        | 创建新分区 | 新建主分区/扩展分区 |
| p        | 打印当前磁盘的分区表信息 | 查看分区操作中的实时状态 |
| q        | 退出fdisk交互界面，**不保存**任何修改 | 误操作时放弃修改 |
| w        | 退出fdisk交互界面，**保存**所有修改 | 分区操作完成后生效 |

### 实操案例：查看系统所有磁盘分区表
```bash
[root@test~]# fdisk -l  # 无磁盘名称则列出所有磁盘
# 第一块磁盘：/dev/sda（21.5GB，MBR格式）
Disk /dev/sda: 21.5 GB, 21474836480 bytes, 41943040 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
Disk label type: dos  # MBR分区格式（dos）
Disk identifier: 0x0008e592

# 分区列表：Device(分区名) Boot(引导分区) Start/End(扇区范围) Id(分区ID) System(系统)
Device     Boot      Start        End    Blocks  Id System
/dev/sda1  *          2048     2099199   1048576  83 Linux  # 引导分区，/boot
/dev/sda2          2099200    41943039  19921920  8e Linux LVM  # LVM分区，用于创建逻辑卷

# LVM逻辑卷（由/dev/sda2创建）
Disk /dev/mapper/centos-root: 18.2 GB  # 根分区逻辑卷
Disk /dev/mapper/centos-swap: 2147 MB  # 交换分区逻辑卷
```
> 关键说明：`83`为Linux普通分区ID，`8e`为Linux LVM分区ID，`*`表示该分区为**引导分区**（/dev/sda1）。

## 3.4.4 mount命令
**核心功能**：将Linux中的**文件系统/设备**（如光盘、U盘、磁盘分区、镜像文件）**挂载**到指定的**挂载点**（空目录），只有挂载后，设备才能被系统访问（Linux无盘符，所有设备都通过**目录**访问），语法：`mount [选项] 设备名 挂载点`
### 核心选项
`-t auto`：自动检测设备的文件系统类型，无需手动指定（如iso9660（光盘）、vfat（U盘）），日常使用首选。
### 实操案例：挂载光盘（/dev/cdrom）到/mnt/cdrom
Linux中光盘的默认设备名为`/dev/cdrom`，挂载点`/mnt/cdrom`需**提前创建**（`mkdir -p /mnt/cdrom`）：
```bash
# 挂载光盘，-t auto自动检测文件系统
[root@test~]# mount -t auto /dev/cdrom /mnt/cdrom
mount: block device /dev/cdrom is write-protected, mounting read-only  # 光盘为只读，正常提示
# 查看挂载后的光盘内容
[root@test~]# ll /mnt/cdrom
total 859
dr-xr-xr-x  4 root root  2048 Sep  4  2005 CentOS  # 系统安装文件目录
-r--r--r--  2 root root  8859 Mar 19  2005 centosdocs-man.css
dr-xr-xr-x  2 root root 241664 May  7 02:32 headers
-r--r--r--  9 root root  18009 Mar  1  2005 GPL
dr-xr-xr-x  4 root root  2048 May  7 02:32 images
```
### 拓展：卸载挂载点
使用`umount`命令，语法：`umount 挂载点/设备名`，如卸载光盘：
```bash
[root@test~]# umount /mnt/cdrom  # 推荐用挂载点卸载，更直观
```
> 注意：**挂载点被占用时（如当前目录在/mnt/cdrom），无法卸载**，需先切换到其他目录。

# 三、核心命令对比与高频实操总结
## 1. 压缩解压命令对比
| 命令 | 支持格式 | 跨平台性 | 核心优势 |
| ---- | -------- | -------- | -------- |
| tar | .tar/.tar.gz | 主要Linux/Unix | 压缩比高、支持目录打包、保留文件属性 |
| zip/unzip | .zip | 全平台（Windows/Linux） | 通用性强，操作简单 |
## 2. 磁盘查看命令核心区别
- `df`：**看分区**，统计磁盘分区的整体空间/inode使用，回答“磁盘还有多少空间”。
- `du`：**看文件/目录**，统计具体文件的空间占用，回答“哪个文件占了大量磁盘”。
## 3. 磁盘操作核心流程
1. 用`fdisk -l`查看磁盘设备→2. 用`fdisk`对磁盘分区→3. 用`mount`将分区挂载到空目录→4. 用`df/du`监控磁盘空间。

我可以帮你整理这份文档的**Linux命令速查表**（按功能分类，仅保留核心选项+实操命令），方便你打印或日常查阅，需要吗？


