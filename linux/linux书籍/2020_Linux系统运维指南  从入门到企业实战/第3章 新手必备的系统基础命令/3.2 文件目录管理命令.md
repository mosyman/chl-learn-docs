
# 3.2 文件目录管理命令
## 3.2.1 touch 命令：修改文件时间属性/创建空白文件
### 核心功能
默认修改文件的**访问时间**和**修改时间**为系统当前时间；若文件不存在，直接创建**空文件**（Linux中最便捷的空文件创建方式）。
### 语法
`touch [选项] 文件名`
### 常用选项（核心）
| 选项 | 精准说明 |
|------|----------|
| -a   | 仅修改**访问时间**（文件被读取的时间） |
| -m   | 仅修改**修改时间**（文件内容被编辑的时间） |
| -d   | 自定义修改时间（例：`touch -d "2024-01-01 12:00" file.txt`） |
| -r <参考文件> | 让目标文件的时间和参考文件**完全一致**（可搭配-a/-m单独同步访问/修改时间） |
### 关键实例补充
- 创空文件：`touch newfile`（直接生成大小为0的空文件，无任何内容）
- 同步时间：`touch -a -r a.txt b.txt`（仅把b.txt的访问时间改成a.txt的访问时间）
### 查看时间的配套命令
- 查**修改时间**：`ls -l 文件名`（默认ls -l展示的是修改时间）
- 查**访问时间**：`ls -lu 文件名`（u参数指定展示访问时间）

## 3.2.2 cat 命令：查看文件内容/合并文件
### 核心功能
1. 直接读取**纯文本小文件**内容（大文件不推荐，会刷屏，建议用more/less）；
2. 合并多个文件内容，输出到新文件（不存在则自动创建）。
### 语法
1. 查看：`cat [选项] 文件名`
2. 合并：`cat 文件1 文件2 > 目标文件`（`>`是覆盖写入，`>>`是追加写入）
### 常用选项（解决排版问题）
| 选项 | 精准说明 |
|------|----------|
| -n   | 对**所有行**编号（包括空白行），行号从1开始 |
| -b   | 仅对**非空白行**编号（实用，排除空行干扰） |
| -S   | 压缩**连续空白行**为1行（让内容更紧凑） |
### 关键实例补充
- 查看并编号非空行：`cat -b test.txt`
- 合并并追加：`cat a.txt b.txt >> c.txt`（c.txt原有内容不丢失，新内容加在末尾）
### 注意
cat无法编辑文件，仅能查看/合并，适合**小文件**（几行到几十行），大文件用`less 文件名`（可翻页、搜索）。

## 3.2.3 mkdir 命令：创建目录（文件夹）
### 核心功能
创建单个/多级目录，可直接设置目录权限（无需后续chmod修改）。
### 语法
`mkdir [选项] 目录名`
### 常用选项（2个核心，文档中-P为大写，实际小写-p也生效）
| 选项 | 精准说明 |
|------|----------|
| -m   | 创建目录**同时设置权限**（权限用数字表示，如764、755，Linux权限数字：r=4/w=2/x=1） |
| -p/ -P | 递归创建**多级目录**（父目录不存在则自动创建，最常用） |
### 权限实例解析
`mkdir -m 764 /test/file`
- 7：属主（文件拥有者）权限：4+2+1 = rwx（读、写、执行）
- 6：属组（拥有者所在组）权限：4+2 = rw-（读、写，无执行）
- 4：其他人权限：4 = r--（仅读，无写、执行）
### 多级目录实例
`mkdir -p /test/testfile/filetest`（无需先建/test，再建testfile，一步到位）
### 配套查看命令
`ls -ld 目录名`（d参数表示**仅查看目录本身**，而非目录内的文件）

## 3.2.4 rm 命令：删除文件/目录（**高危命令，谨慎使用**）
### 核心功能
删除Linux中的文件或目录，**默认无法恢复**（无回收站，删除前务必确认）。
### 语法
`rm [选项] 文件/目录名`
### 常用选项（组合使用居多）
| 选项 | 精准说明 |
|------|----------|
| -i   | 交互模式：删除前逐一确认（输入y确认，n取消，适合新手，防止误删） |
| -f   | 强制模式：无任何提示，直接删除（忽略不存在的文件，不报错） |
| -r/-R | 递归删除：删除**目录及其所有子目录/文件**（删除目录必须加此参数） |
| -v   | 详细模式：显示每个文件的删除过程（可验证是否删对） |
### 高频组合用法
1. 新手删文件：`rm -i test.txt`（逐一确认，最安全）
2. 强制删目录（无提示）：`rm -rf 目录名`（运维高频用，**禁止直接用rm -rf /**，会删光系统所有文件）
3. 删多个文件并看过程：`rm -rv file1 file2`
### 关键注意
- rm默认**只能删文件**，删目录必须加`-r`；
- 生产环境中，删除重要文件前，建议先备份，或用`mv 文件名 /tmp`（移到临时目录，确认无误后再删）。

## 3.2.5 cp 命令：复制文件/目录
### 核心功能
将源文件/目录复制到指定位置，可重命名，支持批量复制、保留文件属性。
### 语法
`cp [选项] 源文件/目录 目标文件/目录`
### 常用选项（按使用频率排序）
| 选项 | 精准说明 |
|------|----------|
| -r/-R | 递归复制：复制**目录及其所有子目录/文件**（复制目录必须加此参数） |
| -i   | 交互模式：覆盖目标文件前确认（防止误覆盖，默认cp已有此特性） |
| -f   | 强制复制：直接覆盖目标文件，无提示 |
| -p   | 保留源文件的**属性**（包括修改时间、权限、拥有者，备份时常用） |
| -a   | 归档复制：`-r + -p + 保留链接`（复制目录的最佳选项，完全保留源目录所有信息） |
### 关键实例解析
1. 复制文件并重命名：`cp file /test/file2/filetest`（将当前目录的file复制到/test/file2，并重命名为filetest）
2. 复制目录（完整保留）：`cp -a test backup/`（将test目录复制到backup下，保留所有权限、时间、链接）
3. 批量复制：`cp file1 file2 /test/`（将file1、file2同时复制到/test目录）
### 注意
- 复制**文件**无需加-r，复制**目录**必须加-r/-a；
- 目标目录若存在，cp会把源文件/目录**放到目标目录内**；若不存在，会把源重命名为目标目录。

## 3.2.6 mv 命令：移动文件/目录 **or 重命名**
### 核心功能
Linux中**移动**和**重命名**是同一个命令，核心是**改变文件/目录的路径/名称**，不改变文件内容/属性。
### 语法
`mv [选项] 源文件/目录 目标文件/目录`
### 核心逻辑
1. 若**目标是已存在的目录**：执行**移动**（把源放到目标目录内）；
2. 若**目标是不存在的文件/目录**：执行**重命名**（把源改名为目标名）；
3. 若源是**目录**，目标只能是**目录**（无法把目录重命名为文件）。
### 常用选项
| 选项 | 精准说明 |
|------|----------|
| -i   | 交互模式：覆盖前确认（默认mv已有此特性） |
| -f   | 强制模式：直接覆盖，无提示（高频组合：`mv -f`） |
| -b   | 覆盖前**创建备份**（备份文件会加~后缀，例：file.txt~，防止覆盖后恢复） |
### 关键实例解析
1. 重命名文件：`mv test testfile`（当前目录下的test文件，重命名为testfile）
2. 移动批量文件：`mv -f /root/backup/* /root/test/`（将backup下的所有文件/目录，强制移到test目录，覆盖同名文件无提示）
3. 移动并备份：`mv -b a.txt /test/`（若/test下已有a.txt，先创建a.txt~备份，再移动）
### 注意
mv命令**无需加-r**，即可移动目录（和cp/rm不同），例：`mv test /backup/`（直接移动test目录到backup）。

## 3.2.7 find 命令：查找文件/目录（**按条件精准搜索**）
### 核心功能
在指定目录下，按**文件名、类型、大小、时间、权限**等**多条件组合**查找文件/目录，支持对查找结果直接执行命令（如删除、移动），是Linux查找文件的核心命令。
### 语法
`find [目录路径] [选项] 查找条件`
### 常用选项（按使用频率排序，支持多条件组合）
| 选项 | 精准说明 |
|------|----------|
| -name <字符串> | 按**文件名**查找，支持通配符（*：任意字符，?：单个字符，[]：指定范围） |
| -type <类型> | 按**文件类型**查找，常用：f（普通文件）、d（目录）、l（软链接） |
| -size <大小> | 按**文件大小**查找，单位：k（KB）、M（MB）、G（GB），+n（大于n）、-n（小于n） |
| -mtime <天数> | 按**修改时间**查找，+d（d天之前修改）、-d（d天内修改） |
| -empty | 查找**空文件/空目录**（大小为0的文件，或无内容的目录） |
| -uid <数字> | 按**用户ID**查找（属于指定用户的文件，适合多用户系统） |
| -maxdepth <n> | 限制查找**深度**（仅查第n级子目录内的文件，避免全目录遍历，提升速度） |
### 关键实例解析（含通配符/多条件）
1. 按文件名+类型查找：`find /root/test/ -name "t*" -type f`（在/root/test下，找**以t开头**的**普通文件**，*是通配符）
2. 按时间+大小查找：`find /root/ -mtime +30 -size 1k -type f`（在/root下，找**30天前修改**、**大小1KB**的**普通文件**）
3. 查找空文件并移动：`find ./ -empty -type f -exec mv {} /tmp/ \;`
    - `./`：当前目录；
    - `-exec`：对查找结果执行后续命令；
    - `{}`：代表find找到的每一个文件（占位符）；
    - `\;`：-exec命令的结束标记（必须加，转义符\不可少）；
      整体含义：把当前目录下的所有空文件，移动到/tmp目录。
### 高频拓展
- 查找并删除空文件：`find ./ -empty -type f -exec rm -f {} \;`
- 按后缀查找：`find /usr/ -name "*.sh" -type f`（找/usr下所有.sh后缀的脚本文件）

# 补充：命令通用规则
1. **根用户/普通用户**：文档中实例均为`root@test`（根用户），普通用户执行命令时，若无权限会提示`Permission denied`，可加`sudo`提权；
2. **通配符**：`*`（任意字符）、`?`（单个字符）在find、ls、rm、cp、mv中均适用；
3. **选项简写**：Linux命令选项大多支持**组合简写**，如`rm -irf = rm -i -r -f`，`cp -ap = cp -a -p`；
4. **路径**：`./`代表当前目录，`../`代表上级目录，`/`代表根目录，绝对路径（如/root/test）比相对路径更精准，避免误操作。

# 后续衔接
文档末尾提到了**3.3 文件压缩与解压命令**，核心是`tar`命令（Linux最常用的归档/压缩命令），可实现文件/目录的打包、压缩（.tar.gz/.tar.bz2）和解压，是运维中备份、传输文件的必备命令。

我可以帮你把这些命令整理成**速查表格**（含语法、核心选项、高频实例），打印出来就能直接对照使用，需要吗？
