

# 一、章节核心定位
Shell脚本的编写、执行、修改完全依赖Linux系统，因此本章先讲Linux基础（发展、文件系统、基本使用）和Shell初步认知，是Shell脚本编程的**前置必备知识**。

# 二、Linux系统基础核心内容
## （一）Linux的发展历程：从开源理念到正式发布
Linux是**类Unix操作系统**，核心发展围绕「开源自由」展开，关键时间节点和人物是核心：
1. **1983年**：理查德·马修·斯托曼创立**GNU项目**，目标是开发**完全免费、自由的类Unix系统**，打破商业操作系统源码封闭的瓶颈，为Linux的诞生奠定了开源理念和GNU工具集基础。
2. **1991年4月**：芬兰学生**林纳斯·托瓦兹**因不满教学用的Minix系统，开发出Linux第一个版本**Linux 0.01**，此时该系统需运行在Minix之上，且林纳斯开放了下载和修改权限，吸引大量程序员自愿完善。
3. **1994年3月**：Linux 1.0正式发布，此时GNU组件可运行于Linux内核之上，Linux成为独立的开源操作系统，正式进入市场。

### 核心特点：「免费」的真正含义
并非仅免费下载，而是**自由软件**：用户可自由修改源代码、满足个性化需求，还能将修改内容分享至网络，既提升个人能力，也帮助Linux修复BUG、优化性能，这是Linux稳定性和效率的重要保障。

### 主流发行版本
Linux内核本身无法直接使用，**发行版本**是将Linux内核+GNU程序库/工具+Shell+图形界面（X Window）+应用软件整合后的成品，可独立使用，主流版本：
- 国外：Ubuntu、Red Hat、Suse、Fedora Core
- 国内：RedFlag（红旗）
  用户可根据需求选择，比如Ubuntu适合桌面/入门，Red Hat适合企业服务器。

## （二）Linux与Windows系统的核心区别
核心概括：**Linux是自由软件，Windows是闭源商业软件**，具体差异体现在4个维度，也是Linux的核心优势/劣势：

| 对比维度 | Linux系统 | Windows系统 |
|----------|-----------|-------------|
| 硬件要求 | 极低，Windows的最低配置即可让Linux流畅运行，多应用也无压力 | 较高，最低配置仅保证系统运行，安装大型软件易卡顿 |
| 网络性能 | 完全支持TCP/IP，兼容IPv6，内核内置IP防火墙、防伪、服务质量控制等安全特性，网络安全/稳定性更优 | 网络功能完善，但安全/稳定性弱于Linux |
| 桌面体验 | 有GNOME、KDE图形界面，但操作便捷性、灵活性远不如Windows | 专为桌面设计，界面友好，市占率高，适合普通用户 |
| BUG修复 | 源码开放，全球程序员可参与开发，快速发现并修改错误，硬件厂商也能快速适配 | 源码封闭，仅微软团队维护，BUG修复速度慢，硬件适配依赖厂商主动对接 |

## （三）Linux的启动过程：从开机到登录的完整流程
Linux启动是**从加电到出现用户名/密码登录界面**的过程，看似复杂实则有固定步骤，**核心步骤+关键程序**如下：
`电脑加电` → `BIOS自检` → `加载硬件资源` → `执行GRUB引导程序` → `加载Linux内核` → `执行init程序初始化` → `操作系统加载完成` → `等待用户登录`

### 关键步骤解析
1. **BIOS自检**：开机后第一个执行的程序，检测硬件（硬盘、内存、显卡等）是否正常，自检通过后进入硬盘的**MBR（主引导记录）**。
2. **GRUB引导程序**：存储在MBR中的系统引导程序，**核心作用是确定操作系统的启动位置**，其配置文件为`boot/grub/grub.conf`（文档笔误为grubgrub.conf）。
    - 配置文件是自动生成的，禁止手动编辑；
    - 关键参数`default`：设置**默认启动的操作系统**，初始值为**0**（不是1），对应启动菜单的第1个选项，数值+1=菜单实际位置；
    - 启动菜单：仅当硬盘安装多个系统时显示，菜单选项数=配置文件中`title`的数量，默认时间内未选择则启动`default`指定的系统，默认时间可在配置文件中修改。
3. **init程序**：Linux系统运行的**第一个程序/第一个进程**，核心作用是**根据启动模式（runlevel）完成系统初始化**，启动模式决定了系统的运行状态。

### Linux的启动模式（runlevel）：7种模式，3种常用
Ubuntu系统的启动模式分7种，不同模式对应不同运行状态，**0和6禁止设为默认**（否则开机直接关机/重启），核心模式如下表：

| 启动模式(runlevel) | 核心作用 | 是否常用 |
|--------------------|----------|----------|
| 0 | 关机 | 否 |
| 1 | 单用户模式，仅root账号可登录（用于系统修复） | 是 |
| 2 | 用户自定义模式 | 否 |
| 3 | 文本模式登录（纯命令行，服务器常用） | 是 |
| 4 | 用户自定义模式 | 否 |
| 5 | 图形界面登录（桌面用户常用） | 是 |
| 6 | 重启 | 否 |

#### 重要更新：systemd target替代runlevel
**RHEL7、Ubuntu16及更高版本**中，Linux舍弃了传统的runlevel，改用**systemd target**作为启动模式，二者一一对应，且操作命令不同，核心对应关系+操作命令如下：
1. **核心对应关系**（修正文档笔误）
   
   | runlevel | systemd target | 核心作用 |
   |----------|----------------|----------|
   | 0 | poweroff.target | 关机 |
   | 1 | rescue.target | 单用户模式 |
   | 2 | multi-user.target | 用户自定义 |
   | 3 | multi-user.target | 文本模式 |
   | 4 | multi-user.target | 用户自定义 |
   | 5 | graphical.target | 图形界面 |
   | 6 | reboot.target | 重启 |

2. **查看/修改启动模式的命令**
    - 传统runlevel查看命令：`runlevel`（示例输出`N 5`，表示当前为图形界面模式）；
    - systemd target查看命令：`systemctl get-default`（示例输出`graphical.target`，表示图形界面）；
    - 修改为命令行模式（runlevel3）：`sudo systemctl set-default runlevel3.target`（需管理员权限`sudo`）。

# 三、本章未展开的后续内容
文档中列出了本章的核心框架，除上述已讲解的Linux系统基础外，还会后续展开：
1. Linux系统的文件系统介绍（Shell脚本操作的核心对象是文件，文件系统是基础）；
2. Linux系统的基本使用（基础命令操作，Shell脚本的核心是命令的组合）；
3. Shell的初步介绍（Shell的定义、作用、类型，为脚本编程铺垫）。

# 四、核心知识点总结
1. Linux的核心属性是**开源、自由的类Unix系统**，发行版本是内核与各类工具的整合体，可按需选择；
2. Linux与Windows的核心差异源于**开源/闭源**，体现在硬件要求、网络性能、桌面体验、BUG修复等方面；
3. Linux启动的核心是**GRUB引导**和**init程序初始化**，启动模式决定系统运行状态，高版本系统用systemd target替代传统runlevel；
4. GRUB配置文件的`default`参数是0开始计数，这是初学者易踩的坑；
5. Shell脚本完全依赖Linux系统，掌握Linux基础命令和系统机制，是编写Shell脚本的前提。

以上是本章内容的完整详细解析，后续章节会基于此展开Linux文件系统、基础命令和Shell的核心知识，也是Shell脚本编程的核心铺垫。


