



# 目录
1. [一、什么是环境变量？](#一什么是环境变量)
2. [二、最常用的 4 个操作命令](#二最常用的-4-个操作命令)
    - [2.1 查看所有环境变量](#1-查看所有环境变量)
    - [2.2 查看单个变量](#2-查看单个变量)
    - [2.3 临时设置环境变量（当前终端有效，关闭就消失）](#3-临时设置环境变量当前终端有效关闭就消失)
    - [2.4 删除变量](#4-删除变量)
3. [三、环境变量的 2 种类型](#三环境变量的-2-种类型)
    - [3.1 普通变量（只在当前 Shell 有效，子进程看不到）](#1-普通变量只在当前-shell-有效子进程看不到)
    - [3.2 环境变量（export，可传给子进程/程序）](#2-环境变量export可传给子进程程序)
4. [四、永久设置环境变量（重点！）](#四永久设置环境变量重点)
    - [4.1 只对当前用户生效（推荐）](#1-只对当前用户生效推荐)
    - [4.2 对所有用户生效（系统级）](#2-对所有用户生效系统级)
5. [五、最重要的环境变量：PATH](#五最重要的环境变量path)
6. [六、常见系统环境变量（必须认识）](#六常见系统环境变量必须认识)
7. [七、环境变量优先级（从高到低）](#七环境变量优先级从高到低)
8. [八、在脚本/程序里使用环境变量](#八在脚本程序里使用环境变量)
    - [8.1 Shell 脚本](#shell-脚本)
    - [8.2 C 语言](#c-语言)
    - [8.3 Go](#go)
    - [8.4 Python](#python)
    - [8.5 Node.js](#nodejs)
9. [九、实用实战例子](#九实用实战例子)
    - [9.1 设置代理](#1-设置代理)
    - [9.2 自定义程序端口](#2-自定义程序端口)
    - [9.3 让自己写的脚本全局可用](#3-让自己写的脚本全局可用)
10. [十、你只要记住这 6 条（最简总结）](#十你只要记住这-6-条最简总结)
11. [Go语言官方安装说明](#Go语言官方安装说明)







我给你一份**最完整、最清晰、一次性吃透**的 **Linux 环境变量 全面讲解**，从概念→查看→设置→永久生效→优先级→常见变量→脚本实战，全部讲透。

# 一、什么是环境变量
环境变量就是 **Linux 系统/Shell 用来保存“配置信息”的变量**，所有进程都可以读取。
作用：
- 告诉系统「命令在哪」`PATH`
- 告诉系统「当前用户是谁」`USER`
- 告诉系统「家目录在哪」`HOME`
- 自定义程序配置（端口、代理、密钥等）

---

# 二、最常用的 4 个操作命令
## 1. 查看所有环境变量
```bash
env
```

## 2. 查看单个变量
```bash
echo $PATH
echo $HOME
echo $USER
echo $LANG
```

## 3. 临时设置环境变量（当前终端有效，关闭就消失）
```bash
export MY_VAR="hello"
export PORT=8080
```

## 4. 删除变量
```bash
unset MY_VAR
```

[back to top](#目录)

---

# 三、环境变量的 2 种类型
## 1. 普通变量（只在当前 Shell 有效，子进程看不到）
```bash
a=123
echo $a
```
⚠️ 不能传给脚本/命令，只能自己用。

## 2. 环境变量（export，可传给子进程/程序）
```bash
export a=123
```
✅ 任何你运行的命令都能读到。

---

# 四、永久设置环境变量（重点！）
你写进配置文件，**每次登录/开终端都自动生效**。

## 1. 只对当前用户生效（推荐）
```bash
vim ~/.bashrc   # Bash
vim ~/.zshrc    # Zsh（最常用）
```

添加：
```bash
export MY_NAME="test"
export PATH=$PATH:/my/new/path
```

立即生效：
```bash
source ~/.zshrc
```

## 2. 对所有用户生效（系统级）
```bash
sudo vim /etc/profile
# 或
sudo vim /etc/bashrc
# 或
sudo vim /etc/environment   # 纯环境变量文件
```


[back to top](#目录)

---

# 五、最重要的环境变量：PATH
**PATH = 系统查找命令的路径列表**

查看：
```bash
echo $PATH
```

格式：
```
路径1:路径2:路径3:...
```

你自己加路径：
```bash
export PATH=$PATH:/opt/my/bin
```


[back to top](#目录)

---

# 六、常见系统环境变量（必须认识）
```bash
HOME       # 家目录 /root 或 /home/xxx
USER       # 当前用户名
PWD        # 当前目录
PATH       # 命令搜索路径
SHELL      # 当前shell /bin/bash /bin/zsh
LANG       # 语言编码
PS1        # 命令行提示符样式
LOGNAME    # 登录名
HOSTNAME   # 主机名
```

[back to top](#目录)

---

# 七、环境变量优先级（从高到低）
1. 终端临时 export（最高）
2. ~/.zshrc / ~/.bashrc（用户）
3. /etc/profile（系统所有用户）
4. /etc/environment（系统最底层）

[back to top](#目录)

---

# 八、在脚本/程序里使用环境变量
## Shell 脚本
```bash
#!/bin/bash
echo "name: $MY_NAME"
echo "port: $PORT"
```

## C 语言
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    printf("%s\n", getenv("PATH"));
    return 0;
}
```

## Go
```go
fmt.Println(os.Getenv("PATH"))
```

## Python
```python
import os
print(os.environ['PATH'])
```

## Node.js
```js
console.log(process.env.PATH);
```

[back to top](#目录)

---

# 九、实用实战例子
## 1. 设置代理
```bash
export HTTP_PROXY=http://127.0.0.1:7890
export HTTPS_PROXY=http://127.0.0.1:7890
export NO_PROXY=localhost,127.0.0.1
```

## 2. 自定义程序端口
```bash
export PORT=3000
node app.js
```

## 3. 让自己写的脚本全局可用
```bash
mkdir ~/bin
cp myscript ~/bin
export PATH=$PATH:~/bin
```

[back to top](#目录)

---

# 十、你只要记住这 6 条（最简总结）
1. **环境变量 = 系统全局配置**
2. `env` 查看所有
3. `echo $变量名` 查看单个
4. `export 变量=值` 临时设置
5. 写进 `~/.zshrc` 或 `~/.bashrc` 永久生效
6. **PATH 最重要**，决定命令能不能找到

---

如果你愿意，我可以再给你：
- **环境变量与 Shell 变量的区别**
- **Docker 里的环境变量**
- **系统启动时环境变量加载顺序（超详细）**

你要继续深入哪一块？



[back to top](#目录)

# Go语言官方安装说明
### 核心内容逐句解析
#### 1. 先删除旧版本：`rm -rf /usr/local/go && tar -C /usr/local -xzf go1.26.0.linux-amd64.tar.gz`
- **命令含义**：
    - `rm -rf /usr/local/go`：`rm` 是删除命令，`-r` 递归删除目录（包括子文件/子目录），`-f` 强制删除（不提示确认），作用是彻底清空旧的 Go 安装目录。
    - `&&`：表示前一个命令执行成功后，再执行后一个命令。
    - `tar -C /usr/local -xzf go1.26.0.linux-amd64.tar.gz`：
        - `tar` 是压缩包解压工具；
        - `-C /usr/local`：指定解压的目标目录为 `/usr/local`（而不是当前目录）；
        - `-x`：解压；`-z`：处理 gzip 压缩的包；`-f`：指定要解压的文件名称。
- **为什么要先删除旧版本？**
  官方明确提示「不要解压到已存在的 `/usr/local/go` 目录」，因为新旧版本的文件混合会导致：
    - 残留的旧文件覆盖新版本核心文件，造成 `go build`/`go run` 报错；
    - 依赖库版本混乱，比如旧版本的标准库和新版本编译器不兼容；
    - 甚至出现「命令找不到」「版本显示错误」等诡异问题。
- **权限说明**：
  `/usr/local` 是系统级目录，普通用户没有写入权限，所以需要加 `sudo`，完整命令应该是：
  ```bash
  sudo rm -rf /usr/local/go && sudo tar -C /usr/local -xzf go1.26.0.linux-amd64.tar.gz
  ```

#### 2. 添加环境变量：`export PATH=$PATH:/usr/local/go/bin`
- **命令含义**：
    - `PATH` 是 Linux 系统的核心环境变量，作用是告诉系统「去哪里找可执行命令」（比如 `go`、`go version`、`go build` 这些命令）；
    - `$PATH`：表示保留原来的 PATH 内容（避免覆盖系统原有命令路径，比如 `ls`、`cd` 等）；
    - `:/usr/local/go/bin`：把 Go 的可执行文件目录追加到 PATH 末尾，系统就能找到 `go` 命令了。
- **配置文件选择**：
    - `$HOME/.profile`：仅对当前用户生效（推荐），修改后只有你自己能使用这个 Go 版本；
    - `/etc/profile`：对所有用户生效（系统级），需要 root 权限（`sudo vim /etc/profile`），适合多人共用的服务器。
- **立即生效的原因**：
  直接修改 `.profile` 或 `/etc/profile` 后，系统不会立刻读取新配置（只有下次登录时才会加载），所以需要用 `source $HOME/.profile` 命令「手动刷新」当前终端的环境变量，让修改立即生效。

#### 3. 验证安装：`go version`
- **命令作用**：
  检查系统是否能找到 `go` 命令，且命令对应的版本是否正确。
- **正常输出示例**：
  ```bash
  go version go1.26.0 linux/amd64
  ```
- **常见异常及原因**：
    - 提示 `command not found: go`：PATH 环境变量没配置对，或解压目录错误；
    - 版本号不对：旧版本没删干净，或 PATH 中旧版本路径优先级更高。

### 完整实操步骤（带注释）
```bash
# 1. 下载 Go 1.26 压缩包（Linux AMD64 架构）
wget https://dl.google.com/go/go1.26.0.linux-amd64.tar.gz

# 2. 彻底删除旧版本，解压新版本（需 sudo 权限）
sudo rm -rf /usr/local/go && sudo tar -C /usr/local -xzf go1.26.0.linux-amd64.tar.gz

# 3. 配置环境变量（当前用户生效）
echo 'export PATH=$PATH:/usr/local/go/bin' >> $HOME/.profile

# 4. 立即生效配置
source $HOME/.profile

# 5. 验证安装结果
go version
```
[back to top](#目录)

### 总结
1. **核心原则**：安装新 Go 版本前必须清空旧版本目录，避免文件冲突导致安装损坏；
2. **环境变量关键**：将 `/usr/local/go/bin` 加入 PATH，系统才能识别 `go` 命令；
3. **验证必做**：通过 `go version` 确认安装成功，避免后续开发因环境问题踩坑。

这套步骤是 Go 官方推荐的标准安装方式，核心目的是保证 Go 环境的纯净性和正确性，尤其适合你在远程 Linux 服务器上安装 Go 来编译 Docker 源码的场景。





