



### 一、创建远程服务器配置的核心目标
先明确配置的核心目的：
1. 让 GoLand 通过 FTP/SFTP/FTPS/WebDAV 协议和远程服务器建立连接（验证身份）；
2. 建立「本地项目文件夹 ↔ 远程服务器文件夹 ↔ 访问 URL」的映射关系，实现文件上传/下载/同步。

### 二、分步操作+配置解释（新手友好版）
#### 步骤 1：进入配置入口，初始化服务器配置
**操作路径**（选其一即可）：
- 方式 1（推荐）：打开设置 `Cmd + ,`（Mac）/ `Ctrl + Alt + S`（Win/Linux）→ 「构建、执行、部署 | 部署」；
- 方式 2：主菜单 → 「工具 | 部署 | 配置」。

**核心操作**：
1. 点击左侧窗格的「+」号（添加项），选择协议类型（新手优先选 **SFTP**，安全性最高，是远程服务器最常用的协议）：
    - FTP：基础文件传输协议（无加密，不推荐）；
    - SFTP：基于 SSH 的加密文件传输（推荐，几乎所有 Linux 服务器都支持）；
    - FTPS：SSL 加密的 FTP（较少用）；
    - WebDAV：基于 HTTP 的文件管理协议（多用于云存储/特定 Web 服务器）。
2. 输入「连接名称」（比如“测试服务器-192.168.1.100”，自定义，方便识别），点击「确定」。
3. 可选配置（提升实用性）：
    - 设为默认：选中该配置，点击工具栏「Use as default」，后续上传/下载无需手动选服务器；
    - 跨项目复用：取消「仅对该项目可见」复选框，其他项目也能使用这个配置；
    - 配置共享：服务器配置存在项目 `.idea` 目录下，可通过 Git 等版本控制工具共享给团队。

#### 步骤 2：配置远程主机连接参数（核心）
进入「连接」选项卡，填写远程服务器的访问信息（以最常用的 SFTP 为例）：

| 配置项                | 含义 & 填写说明                                                                 |
|-----------------------|---------------------------------------------------------------------------------|
| SSH 配置              | 选已有的 SSH 配置（提前配好服务器的 SSH 账号/密码/密钥），或新建 SSH 配置（填主机、端口、用户名、认证方式）； |
| 使用 rsync 传输       | 勾选后用 rsync 替代原生传输，大文件/多文件同步速度更快（需服务器安装 rsync）；     |
| 根路径（Root path）   | 远程服务器上的“最高访问目录”（比如 `/var/www`），GoLand 只能访问该目录及子目录；<br>✅ 推荐：点击「自动检测」（需先填对 SSH 凭据），或手动输入，或点击「浏览」选择； |
| Web 服务器 URL        | 访问「根路径」的网址（比如 `http://192.168.1.100` 或 `https://test.example.com`）； |
| 高级设置（可选）      | 比如 SFTP 可配置超时时间、被动模式等（新手默认即可）；                           |

> 补充（FTP/FTPS/WebDAV 差异）：
> - FTP/FTPS：需填「主机」「端口」「用户名」「密码」，而非 SSH 配置；
> - WebDAV：需填「URL」「用户名」「密码」，端口通常是 80/443。

#### 步骤 3：配置路径映射（关键！新手易踩坑）
进入「映射」选项卡，建立本地和远程的路径对应关系，这是文件上传/访问的核心：

| 配置项                | 含义 & 填写说明                                                                 |
|-----------------------|---------------------------------------------------------------------------------|
| 本地路径（Local path）| 本地 GoLand 项目的绝对路径（比如 `/Users/xxx/Documents/my-golang-project`），GoLand 会自动填充，无需改； |
| 部署路径（Deployment path） | 远程服务器「根路径」下的子文件夹（比如 `html/my-project`），本地文件会上传到这个位置；<br>⚠️ 注意：路径是「相对根路径」，比如根路径是 `/var/www`，部署路径填 `html/my-project`，实际上传到 `/var/www/html/my-project`；<br>✅ 服务器无此文件夹时，首次上传会自动创建； |
| Web 路径（Web path）| 访问「部署路径」的 URL 路径（相对于「Web 服务器 URL」）；<br>示例：<br>- Web 服务器 URL 是 `http://192.168.1.100`<br>- 部署路径是 `html/my-project`<br>- Web 路径填 `/my-project`，则访问地址是 `http://192.168.1.100/my-project`；<br>⚠️ 若该目录不可通过 Web 访问，留空即可； |

#### 步骤 4：验证配置 & 访问远程文件
配置完成后，可通过以下方式验证和使用：
1. 打开「远程主机工具窗口」：主菜单 → 「工具 | 部署 | 浏览远程主机」；
2. 在下拉列表中选择刚配置的服务器，即可看到远程服务器的文件结构，也能直接上传/下载/编辑文件。

### 三、新手避坑要点
1. **路径映射易错**：「部署路径」是「相对根路径」，不是绝对路径！比如根路径填 `/var/www`，部署路径别填 `/var/www/html`（错），要填 `html`（对）；
2. **权限问题**：确保配置的 SSH/FTP 用户有「根路径」和「部署路径」的读写权限；
3. **连接失败排查**：先检查服务器的 IP/端口是否可访问（ping/ssh 测试），再检查协议/账号/密码是否正确，最后检查防火墙/安全组是否放行端口（SFTP 是 22，FTP 是 21，FTPS 是 990 等）。

---

### 总结
1. 创建远程服务器配置的核心是「选协议 → 配连接参数 → 设路径映射」，新手优先选 SFTP 协议；
2. 「根路径」是远程服务器的访问上限，「部署路径」是本地文件上传的目标位置（相对根路径），「Web 路径」是访问该位置的 URL 路径；
3. 配置完成后，可通过「远程主机工具窗口」验证连接并管理远程文件，设为默认配置能简化日常上传/同步操作。

